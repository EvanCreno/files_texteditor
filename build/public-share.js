!function(e){function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r={};n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s="./js/public-share.js")}({"./js/public-share.js":function(e,n){$(document).ready(function(){if($("#isPublic").val()&&"text/markdown"===$("#mimetype").val()&&$("#filesize").val()<524288){var e=$("#sharingToken").val(),n=OC.generateUrl("/s/{token}/download",{token:e}),r=$("#imgframe"),t=new marked.Renderer;t.link=function(e,n,r){try{var t=decodeURIComponent(unescape(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0!==t.indexOf("http:")&&0!==t.indexOf("https:"))return"";var a='<a href="'+e+'" rel="noreferrer noopener"';return n&&(a+=' title="'+n+'"'),a+=">"+r+"</a>"},t.image=function(e,n,r){return r||n},t.blockquote=function(e){return e},r.addClass("icon-loading").children().detach(),$.get(n).success(function(e){r.removeClass("icon-loading").addClass("preview").html(DOMPurify.sanitize(marked(e,{renderer:t,gfm:!1,breaks:!1,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),{SAFE_FOR_JQUERY:!0}))}).fail(function(e){r.removeClass("icon-loading")})}})}});
//# sourceMappingURL=public-share.js.map